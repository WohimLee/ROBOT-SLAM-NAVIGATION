&emsp;
# 图像矩（Image Moments）
>相关资料
- 《一文弄懂图像的矩和相关应用》：https://zhuanlan.zhihu.com/p/424903693

&emsp;
## 1 原始矩
对于灰度图像 $I$，其 $(p+q)$ 阶矩(有时称为"原始矩")，定义如下:
$$m_{pq} = \sum_x\sum_y x^py^q I(x,y)$$
- $p，q$：取整数
- $I(x,y)$：图像 $(x,y)$ 处的灰度值

&emsp;
>二值图/每个像素的灰度值总和
$$m_{00} = \sum_{x，y} xy I(x,y)$$

>图像的几何中心也叫质心 $(c_x,c_y)$
$$c_x = m_{10}/m_{00} \\ c_y = m_{01}/m_{00} $$

&emsp;
## 2 中心矩
>中心矩
- 中心矩是以质心为中心的矩，相比原始矩，只要添加一个平移即可，中心矩的定义如下:
    $$u_{pq} = \sum_{x，y} (x-c_x)^p(y-c_y)^q I(x,y)$$
    - $(c_x,c_y)$：质心

>协方差矩阵
- 有了中心矩的定义，我们可以得到图像 $I$ 的协方差矩阵，其定义为:
$$Conv(I) = \frac{1}{u_{00}}
\begin{pmatrix}u_{20} & u_{11} \\
u_{11} & u_{02}\end{pmatrix}$$

接着我们可以计算该协方差矩阵的特征向量，最大特征值对应的特征向量就是物体长轴的角度，我们可以将其定义为物体的方向。该角度计算公式如下:

$$\theta = \frac{1}{2}arctan(\frac{2u_{11}}{u_{20}-u_{02}})$$



